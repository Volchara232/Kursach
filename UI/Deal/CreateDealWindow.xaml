<Window x:Class="Sem3_kurs.CreateDealWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Оформление сделки"
        Height="450"
        Width="500"
        WindowStartupLocation="CenterScreen">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Заголовок -->
        <StackPanel Grid.Row="0" Margin="0,0,0,10">
            <TextBlock Text="Оформление сделки" 
                       FontSize="18" 
                       FontWeight="Bold"/>
            <TextBlock x:Name="TxtClientInfo" 
                       FontSize="12" 
                       Foreground="#3498db"
                       Margin="0,5,0,0"/>
        </StackPanel>

        <!-- Форма сделки -->
        <StackPanel Grid.Row="1">
            <GroupBox Header="Информация о сделке" Margin="0,0,0,10">
                <StackPanel Margin="5">
                    <TextBlock Text="Сумма сделки (руб.)*" Margin="0,0,0,2"/>
                    <TextBox x:Name="TxtAmount" 
                             Height="25"
                             TextChanged="TxtAmount_TextChanged"
                             Margin="0,0,0,10"/>

                    <TextBlock Text="Гонорар агентства (2%):" Margin="0,0,0,2"/>
                    <TextBlock x:Name="TxtCommission" 
                               FontWeight="Bold"
                               Foreground="Green"
                               Margin="0,0,0,10"/>

                    <TextBlock Text="Дата сделки" Margin="0,0,0,2"/>
                    <DatePicker x:Name="DpDealDate"
                                Height="25"
                                Margin="0,0,0,10"/>

                    <CheckBox x:Name="ChkIsCompleted" 
                              Content="Сделка завершена"
                              IsChecked="True"
                              Margin="0,0,0,10"/>
                </StackPanel>
            </GroupBox>

            <GroupBox Header="Информация о заявке и объекте">
                <StackPanel Margin="5">
                    <TextBlock Text="Заявка клиента:" 
                               FontWeight="Bold"
                               Margin="0,0,0,2"/>
                    <TextBlock x:Name="TxtOrderInfo" 
                               Margin="0,0,0,10"/>

                    <TextBlock Text="Объект недвижимости:" 
                               FontWeight="Bold"
                               Margin="0,0,0,2"/>
                    <TextBlock x:Name="TxtPropertyInfo" />
                </StackPanel>
            </GroupBox>
        </StackPanel>
        <GroupBox Header="Информация о передаче собственности" Margin="0,10,0,0">
            <StackPanel Margin="5">
                <StackPanel x:Name="SaleInfoPanel" Visibility="Collapsed">
                    <TextBlock Text="При продаже:" FontWeight="Bold" Margin="0,0,0,5"/>
                    <TextBlock x:Name="TxtTransferInfo" 
                       TextWrapping="Wrap"
                       Foreground="DarkGreen"/>
                </StackPanel>

                <StackPanel x:Name="RentInfoPanel" Visibility="Collapsed">
                    <TextBlock Text="При аренде:" FontWeight="Bold" Margin="0,0,0,5"/>
                    <TextBlock Text="Объект временно снимается с продажи"
                       TextWrapping="Wrap"
                       Foreground="DarkBlue"/>
                </StackPanel>
            </StackPanel>
        </GroupBox>
        <!-- Кнопки -->
        <StackPanel Grid.Row="2" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right" 
                    Margin="0,15,0,0">
            <Button Content="Отмена" 
                    Width="80" 
                    Height="25"
                    Margin="0,0,10,0"
                    Click="BtnCancel_Click"/>

            <Button Content="Оформить" 
                    Width="80" 
                    Height="25"
                    IsDefault="True"
                    Click="BtnCreateDeal_Click"/>
        </StackPanel>
    </Grid>
</Window>