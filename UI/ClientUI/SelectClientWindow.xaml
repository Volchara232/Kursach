<Window x:Class="Sem3_kurs.SelectClientWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Выбор клиента"
        Height="400"
        Width="500"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" 
                   Text="Выберите клиента для новой заявки" 
                   FontSize="16" 
                   FontWeight="Bold" 
                   Margin="0,0,0,10"/>

        <ListView Grid.Row="1" 
                  x:Name="ClientsListView" 
                  SelectionMode="Single">
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="ФИО" 
                                    DisplayMemberBinding="{Binding FullName}" 
                                    Width="200"/>
                    <GridViewColumn Header="Телефон" 
                                    DisplayMemberBinding="{Binding Phone}" 
                                    Width="120"/>
                    <GridViewColumn Header="Заявок" 
                                    DisplayMemberBinding="{Binding Orders.Count}" 
                                    Width="60"/>
                </GridView>
            </ListView.View>
        </ListView>

        <StackPanel Grid.Row="2" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right" 
                    Margin="0,15,0,0">
            <Button Content="Отмена" 
                    Width="80" 
                    Height="30"
                    Margin="0,0,10,0"
                    Click="BtnCancel_Click"/>

            <Button Content="Выбрать" 
                    Width="80" 
                    Height="30"
                    IsDefault="True"
                    IsEnabled="{Binding ElementName=ClientsListView, Path=SelectedItem, Converter={StaticResource NullToBooleanConverter}}"
                    Click="BtnSelect_Click"/>
        </StackPanel>
    </Grid>
</Window>